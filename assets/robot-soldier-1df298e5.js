import{c as S,a as A,b as B,i as D,d as E,e as V,f as F,D as N,H as j,r as G,M as I,h as R,P as U,g as W,A as Y,C as q}from"./threeUtil-14e90137.js";import{d as z,r as m,o as T,a as J,e as v,b as h,c as x,f as w,g as K,w as b,F as M,h as O,i as Q,j as X,t as Z}from"./index-18f1b46a.js";const $={class:"absolute right-0px bottom-0px pt-3px pl-3px pr-3px pb-3px bg-white",style:{position:"absolute",left:"0px",bottom:"0px"}},oe=z({__name:"robot-soldier",setup(ee){const u=m();let r;const C=new q;let d,l,s,p=null;const L=e=>{r=e;const o=r.offsetWidth,n=r.offsetHeight;d=S(o/n),l=A(o,n),s=B(),r.append(l.domElement),D(s),E(d,l.domElement),p=V(r),_();const{ambientLight:i,mainLight:a}=F();a.position.set(150,300,0),s.add(i,a),s.add(new N(a,100,16711680)),s.add(new j(i,120,16711935)),G(r,d,l),k(),y()},k=()=>{const e=new I(new U(200,200),new R({color:13355979,depthWrite:!1}));e.rotation.x=-Math.PI/2,e.receiveShadow=!0,s.add(e)},f=m([]),c=m("");let t;const y=async()=>{const e=await W("model/Soldier.glb"),o=e.animations;t=e.scene,t.traverse(function(n){n.isMesh&&(n.castShadow=!0)}),o.forEach(n=>{f.value.push(n.name);const i=n,a=new Y(t);a.clipAction(i).play(),t[n.name]=P=>a.update(P)}),c.value="Run",t.scale.set(65,65,65),t.rotateY(Math.PI),s.add(t)},H=e=>{console.log("jr",e.target.value);const o=e.target.value;t[o]&&t[o](1)};let g=!0;const _=()=>{console.log("jr render");const e=C.getDelta();l.render(s,d),p&&p.update(e),t&&t[c.value]&&(t[c.value](e),t.rotateY(.02)),g&&requestAnimationFrame(_)};return T(()=>{u.value&&L(u.value)}),J(()=>{g=!1}),(e,o)=>{const n=v("a-radio-button"),i=v("a-radio-group");return h(),x(M,null,[w("div",{ref_key:"container",ref:u,class:"flex-1"},null,512),w("div",$,[K(i,{value:c.value,"onUpdate:value":o[0]||(o[0]=a=>c.value=a),onChange:H},{default:b(()=>[(h(!0),x(M,null,O(f.value,a=>(h(),Q(n,{value:a,key:a},{default:b(()=>[X(Z(a),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])],64)}}});export{oe as default};
