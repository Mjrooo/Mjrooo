import{j as u,a as b,b as k,i as y,d as B,e as S,r as q,I as D,L as E,q as F,C as H}from"./threeUtil-14e90137.js";import{d as L,r as M,o as V,a as A,b as G,c as I,f as h,F as T}from"./index-18f1b46a.js";const W=h("div",{class:"absolute right-0px bottom-0px pt-3px pl-3px pr-3px pb-3px bg-white"},null,-1),l=200,P=L({__name:"god-per",setup(j){const p=M();let t;const w=new H;let s,e,r,d=null;const x=n=>{t=n;const o=t.offsetWidth,a=t.offsetHeight,v=o/a;s=new u(60,v,.1,100),s.position.set(0,2,40),e=b(o,a),r=k(),t.append(e.domElement),y(r),B(s,e.domElement),d=S(t),C(),f(),q(t,s,e),_()};let i;const C=()=>{i=new u(40,1,1,100),i.position.copy(s.position)};let c;const _=async()=>{const n=new D(12,3),o=new E({color:65535});c=new F(n,o),r.add(c)};let m=!0;const f=()=>{const n=w.getDelta();e.setClearColor(0,0),e.setViewport(0,0,t.clientWidth,t.clientHeight),e.render(r,s),d&&d.update(n),g();const o=Date.now()*.001;if(c){c.rotateY(.01);const a=Math.sin(o)*2+2.5;c.scale.set(a,a,a)}m&&requestAnimationFrame(f)},g=()=>{e.setScissorTest(!0),e.setClearColor(2236962,1),e.clearDepth(),e.setScissor(0,0,l,l),e.setViewport(0,0,l,l),i.position.copy(s.position),i.quaternion.copy(s.quaternion),e.render(r,i),e.setScissorTest(!1)};return V(()=>{p.value&&x(p.value)}),A(()=>{m=!1}),(n,o)=>(G(),I(T,null,[h("div",{ref_key:"container",ref:p,class:"flex flex-1 overflow-hidden"},null,512),W],64))}});export{P as default};
